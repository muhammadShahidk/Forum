<mat-tab-group>
  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon class="example-tab-icon">thumb_up</mat-icon>
      All
    </ng-template>

    <!-- approval options -->
    <div class="flex items-center gap-3 mt-2">
      @if (selection.selected.length > 0) {
      <!-- change status -->
      <button
        mat-raised-button
        class="mt-3"
        color="primary"
        (click)="openBottomSheet()"
      >
        Change Status
      </button>
      }
      <!-- search input -->
      <mat-form-field class="flex-1">
        <mat-label>Filter</mat-label>
        <input
          matInput
          (keyup)="applyFilter($event)"
          placeholder="Ex. ium"
          #input
        />
      </mat-form-field>
    </div>

    <!-- table for approval request -->
    <table mat-table [dataSource]="dataSource" class="mt-5">
      <!-- Checkbox Column -->
      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef>
          <mat-checkbox
            (change)="$event ? toggleAllRows() : null"
            [checked]="selection.hasValue() && isAllSelected()"
            [indeterminate]="selection.hasValue() && !isAllSelected()"
            [aria-label]="checkboxLabel()"
          >
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row">
          <mat-checkbox
            (click)="$event.stopPropagation()"
            (change)="$event ? selection.toggle(row) : null"
            [checked]="selection.isSelected(row)"
            [aria-label]="checkboxLabel(row)"
          >
          </mat-checkbox>
        </td>
      </ng-container>

      <!-- username Column -->
      <ng-container matColumnDef="username">
        <th mat-header-cell *matHeaderCellDef>Username.</th>
        <td mat-cell *matCellDef="let element">{{ element.username }}</td>
      </ng-container>

      <!-- Name Name -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let element">{{ element.name }}</td>
      </ng-container>

      <!-- status Column -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let element">
          <span
            [ngClass]="{
              'text-green-500': element.Status === 'Approved',
              'text-red-500': element.Status === 'Rejected',
              'text-yellow-500': element.Status === 'Pending'
            }"
            >{{ element.Status }}</span
          >
        </td>
      </ng-container>

      <!-- updated on  -->
      <ng-container matColumnDef="updatedOn">
        <th mat-header-cell *matHeaderCellDef>Updated On</th>
        <td mat-cell *matCellDef="let element">
          {{ element.dateUpdated | TimeAgo }}
        </td>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="dateCreated">
        <th mat-header-cell *matHeaderCellDef>Created</th>
        <td mat-cell *matCellDef="let element">
          {{ element.dateCreated | date : "EE d/M/yy 'at' h:mm a" }}
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: displayedColumns"
        (click)="selection.toggle(row)"
      ></tr>
    </table>
  </mat-tab>

  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon class="example-tab-icon">thumb_up</mat-icon>
      Pending
    </ng-template>
    <app-panding-aproval-request />
  </mat-tab>

  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon class="example-tab-icon">thumb_up</mat-icon>
      Approved
    </ng-template>

    <app-approved-aproval-request />
  </mat-tab>
</mat-tab-group>
